<CodeGroup>

```python Python
from perplexity import Perplexity
from pydantic import BaseModel

class Article(BaseModel):
    title: str
    url: str
    summary: str

client = Perplexity()

response = client.chat.completions.create(
    model="sonar",
    messages=[{"role": "user", "content": "Find top AI articles"}],
    response_format=Article,
)

print(response.parsed)
```

```typescript TypeScript
import Perplexity from 'perplexity';
import { z } from 'zod';

const Article = z.object({
  title: z.string(),
  url: z.string(),
  summary: z.string(),
});

const client = new Perplexity();

const response = await client.chat.completions.create({
  model: 'sonar',
  messages: [{ role: 'user', content: 'Find top AI articles' }],
  responseFormat: Article,
});

console.log(response.parsed);
```

```curl cURL
curl -X POST "$API_BASE/v1/chat/completions" \
  -H "Authorization: Bearer $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "sonar",
    "messages": [{"role": "user", "content": "Find top AI articles"}],
    "response_format": {
      "type": "json_schema",
      "json_schema": {
        "name": "article",
        "schema": {
          "type": "object",
          "properties": {
            "title": {"type": "string"},
            "url": {"type": "string"},
            "summary": {"type": "string"}
          }
        }
      }
    }
  }'
```

</CodeGroup>

