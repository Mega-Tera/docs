---
title: "Agent tasks"
description: "What they are and how to run them"
---

## What is a browser agent task?

An agent task runs a prebuilt agent (e.g., `glitter`) against a managed Chrome instance. We provision a browser, give you a `cdpUrl` for live inspection, and stream the task to completion. You can stop the underlying browser at any time.

## Trigger a run

<CodeGroup>

```bash cURL
curl -X POST "$API_BASE/v1/consumer/agents/trigger" \
  -H "Authorization: Bearer $API_KEY" \
  -H "content-type: application/json" \
  -d '{"agent":"glitter","prompt":"go to google","stepLimit":20}'
```

```python Python
import os, requests

API_BASE = os.getenv('API_BASE')
API_KEY = os.getenv('API_KEY')

resp = requests.post(
    f"{API_BASE}/v1/consumer/agents/trigger",
    headers={
        "Authorization": f"Bearer {API_KEY}",
        "content-type": "application/json",
    },
    json={"agent": "glitter", "prompt": "go to google", "stepLimit": 20},
)
print(resp.json())
```

```typescript TypeScript
const API_BASE = process.env.API_BASE!;
const API_KEY = process.env.API_KEY!;

const res = await fetch(`${API_BASE}/v1/consumer/agents/trigger`, {
  method: 'POST',
  headers: {
    Authorization: `Bearer ${API_KEY}`,
    'content-type': 'application/json',
  },
  body: JSON.stringify({ agent: 'glitter', prompt: 'go to google', stepLimit: 20 }),
});
console.log(await res.json());
```

</CodeGroup>

Response (202):

```json
{ "runId": "...", "cdpUrl": "wss://...", "taurineSessionId": "..." }
```

## Poll the run

<CodeGroup>

```bash cURL
curl -H "Authorization: Bearer $API_KEY" \
  "$API_BASE/v1/consumer/agents/runs/$RUN_ID"
```

```python Python
import os, requests

API_BASE = os.getenv('API_BASE')
API_KEY = os.getenv('API_KEY')
RUN_ID = os.getenv('RUN_ID')

resp = requests.get(
    f"{API_BASE}/v1/consumer/agents/runs/{RUN_ID}",
    headers={"Authorization": f"Bearer {API_KEY}"},
)
print(resp.json())
```

```typescript TypeScript
const API_BASE = process.env.API_BASE!;
const API_KEY = process.env.API_KEY!;
const RUN_ID = process.env.RUN_ID!;

const res = await fetch(`${API_BASE}/v1/consumer/agents/runs/${RUN_ID}`, {
  headers: { Authorization: `Bearer ${API_KEY}` },
});
console.log(await res.json());
```

</CodeGroup>

Returns fields like `state`, `inputTokens`, `outputTokens`, and optional `result.answer`.

## Stop the browser (optional)

<CodeGroup>

```bash cURL
curl -X DELETE -H "Authorization: Bearer $API_KEY" \
  "$API_BASE/v1/consumer/session?sessionId=$TAURINE_SESSION_ID"
```

```python Python
import os, requests

API_BASE = os.getenv('API_BASE')
API_KEY = os.getenv('API_KEY')
SESSION_ID = os.getenv('TAURINE_SESSION_ID')

resp = requests.delete(
    f"{API_BASE}/v1/consumer/session",
    headers={"Authorization": f"Bearer {API_KEY}"},
    params={"sessionId": SESSION_ID},
)
print(resp.status_code)
```

```typescript TypeScript
const API_BASE = process.env.API_BASE!;
const API_KEY = process.env.API_KEY!;
const SESSION_ID = process.env.TAURINE_SESSION_ID!;

const res = await fetch(`${API_BASE}/v1/consumer/session?sessionId=${SESSION_ID}`, {
  method: 'DELETE',
  headers: { Authorization: `Bearer ${API_KEY}` },
});
console.log(res.status);
```

</CodeGroup>

## Notes

- `stepLimit` caps how many autonomous steps the agent can take.
- The `cdpUrl` lets you live‑view the run using CDP tooling.
- Credits are debited after the run based on token usage. See [/account/billing](/account/billing).
